CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE JBPM4_COMMENT(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,USERID_ VARCHAR(255),TIME_ TIMESTAMP,MESSAGE_ VARCHAR(255),PARENT_ BIGINT,PARENT_IDX_ INTEGER,TASK_ BIGINT,TASK_IDX_ INTEGER)
CREATE MEMORY TABLE JBPM4_DEPLOYMENT(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME_ LONGVARCHAR,TIMESTAMP_ BIGINT,STATE_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_DEPLOYPROP(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DEPLOYMENT_ BIGINT,OBJNAME_ VARCHAR(255),KEY_ VARCHAR(255),STRINGVAL_ VARCHAR(255),LONGVAL_ BIGINT,CONSTRAINT FK_DEPLPROP_DEPL FOREIGN KEY(DEPLOYMENT_) REFERENCES JBPM4_DEPLOYMENT(DBID_))
CREATE MEMORY TABLE JBPM4_EXECUTION(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,ACTIVITYNAME_ VARCHAR(255),PROCDEFID_ VARCHAR(255),HASVARS_ BOOLEAN,NAME_ VARCHAR(255),KEY_ VARCHAR(255),ID_ VARCHAR(255),STATE_ VARCHAR(255),SUSPHISTSTATE_ VARCHAR(255),PRIORITY_ INTEGER,HISACTINST_ BIGINT,PARENT_ BIGINT,INSTANCE_ BIGINT,SUPEREXEC_ BIGINT,SUBPROCINST_ BIGINT,PARENT_IDX_ INTEGER,CONSTRAINT SYS_CT_52 UNIQUE(ID_),CONSTRAINT FK_EXEC_PARENT FOREIGN KEY(PARENT_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_EXEC_SUBPI FOREIGN KEY(SUBPROCINST_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_EXEC_INSTANCE FOREIGN KEY(INSTANCE_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_EXEC_SUPEREXEC FOREIGN KEY(SUPEREXEC_) REFERENCES JBPM4_EXECUTION(DBID_))
CREATE MEMORY TABLE JBPM4_HIST_ACTINST(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,HPI_ VARCHAR(255),TYPE_ VARCHAR(255),EXECUTION_ VARCHAR(255),ACTIVITY_NAME_ VARCHAR(255),START_ TIMESTAMP,END_ TIMESTAMP,DURATION_ BIGINT,TRANSITION_ VARCHAR(255),ASSIGNEE_ VARCHAR(255),STATE_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_HIST_PROCINST(ID_ VARCHAR(255) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,PROCDEFID_ VARCHAR(255),KEY_ VARCHAR(255),START_ TIMESTAMP,END_ TIMESTAMP,DURATION_ BIGINT,STATE_ VARCHAR(255),ENDACTIVITY_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_ID_GROUP(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,ID_ VARCHAR(255),NAME_ VARCHAR(255),TYPE_ VARCHAR(255),PARENT_ BIGINT,CONSTRAINT FK_GROUP_PARENT FOREIGN KEY(PARENT_) REFERENCES JBPM4_ID_GROUP(DBID_))
CREATE MEMORY TABLE JBPM4_ID_MEMBERSHIP(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,USER_ BIGINT,GROUP_ BIGINT,NAME_ VARCHAR(255),CONSTRAINT FK_MEM_GROUP FOREIGN KEY(GROUP_) REFERENCES JBPM4_ID_GROUP(DBID_))
CREATE MEMORY TABLE JBPM4_ID_USER(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,ID_ VARCHAR(255),PASSWORD_ VARCHAR(255),GIVENNAME_ VARCHAR(255),FAMILYNAME_ VARCHAR(255),BUSINESSEMAIL_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_JOB(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,DUEDATE_ TIMESTAMP,STATE_ VARCHAR(255),ISEXCLUSIVE_ BOOLEAN,LOCKOWNER_ VARCHAR(255),LOCKEXPTIME_ TIMESTAMP,EXCEPTION_ LONGVARCHAR,RETRIES_ INTEGER,PROCESSINSTANCE_ BIGINT,EXECUTION_ BIGINT,CFG_ BIGINT,SIGNAL_ VARCHAR(255),EVENT_ VARCHAR(255),REPEAT_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_LOB(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,BLOB_VALUE_ LONGVARBINARY,BINARY_VALUE_ VARBINARY(255),CLOB_VALUE_ LONGVARCHAR,TEXT_VALUE_ LONGVARCHAR,DEPLOYMENT_ BIGINT,NAME_ LONGVARCHAR,CONSTRAINT FK_LOB_DEPLOYMENT FOREIGN KEY(DEPLOYMENT_) REFERENCES JBPM4_DEPLOYMENT(DBID_))
CREATE MEMORY TABLE JBPM4_PARTICIPATION(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,GROUPID_ VARCHAR(255),USERID_ VARCHAR(255),TYPE_ VARCHAR(255),TASK_ BIGINT,SWIMLANE_ BIGINT)
CREATE MEMORY TABLE JBPM4_SWIMLANE(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,NAME_ VARCHAR(255),ASSIGNEE_ VARCHAR(255),EXECUTION_ BIGINT,CONSTRAINT FK_SWIMLANE_EXEC FOREIGN KEY(EXECUTION_) REFERENCES JBPM4_EXECUTION(DBID_))
CREATE MEMORY TABLE JBPM4_TASK(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ CHAR(1) NOT NULL,DBVERSION_ INTEGER NOT NULL,NAME_ VARCHAR(255),DESCR_ VARCHAR(255),STATE_ VARCHAR(255),SUSPHISTSTATE_ VARCHAR(255),ASSIGNEE_ VARCHAR(255),FORM_ VARCHAR(255),PRIORITY_ INTEGER,CREATE_ TIMESTAMP,DUEDATE_ TIMESTAMP,PROGRESS_ INTEGER,SIGNALLING_ BOOLEAN,HASVARS_ BOOLEAN,SUPERTASK_ BIGINT,EXECUTION_ BIGINT,PROCINST_ BIGINT,SWIMLANE_ BIGINT,TASKDEFNAME_ VARCHAR(255),CONSTRAINT FK_TASK_SWIML FOREIGN KEY(SWIMLANE_) REFERENCES JBPM4_SWIMLANE(DBID_),CONSTRAINT FK_TASK_SUPERTASK FOREIGN KEY(SUPERTASK_) REFERENCES JBPM4_TASK(DBID_))
CREATE MEMORY TABLE JBPM4_VARIABLE(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,KEY_ VARCHAR(255),QUERYTEXT_ VARCHAR(255),CONVERTER_ VARCHAR(255),PROCINST_ BIGINT,DATE_VALUE_ TIMESTAMP,DOUBLE_VALUE_ DOUBLE,LONG_VALUE_ BIGINT,STRING_VALUE_ VARCHAR(255),LOB_ BIGINT,EXECUTION_ BIGINT,EXESYS_ BIGINT,TASK_ BIGINT,CONSTRAINT FK_VAR_PROCINST FOREIGN KEY(PROCINST_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_VAR_LOB FOREIGN KEY(LOB_) REFERENCES JBPM4_LOB(DBID_),CONSTRAINT FK_VAR_EXECUTION FOREIGN KEY(EXECUTION_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_VAR_EXESYS FOREIGN KEY(EXESYS_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_VAR_TASK FOREIGN KEY(TASK_) REFERENCES JBPM4_TASK(DBID_))
ALTER TABLE JBPM4_COMMENT ADD CONSTRAINT FKFD23139F86A745AD FOREIGN KEY(TASK_) REFERENCES JBPM4_TASK(DBID_)
ALTER TABLE JBPM4_HIST_ACTINST ADD CONSTRAINT FK_HAI_HPI FOREIGN KEY(HPI_) REFERENCES JBPM4_HIST_PROCINST(ID_)
ALTER TABLE JBPM4_ID_MEMBERSHIP ADD CONSTRAINT FK_MEM_USER FOREIGN KEY(USER_) REFERENCES JBPM4_ID_USER(DBID_)
ALTER TABLE JBPM4_JOB ADD CONSTRAINT FK_JOB_CFG FOREIGN KEY(CFG_) REFERENCES JBPM4_LOB(DBID_)
ALTER TABLE JBPM4_PARTICIPATION ADD CONSTRAINT FK_PART_SWIMLANE FOREIGN KEY(SWIMLANE_) REFERENCES JBPM4_SWIMLANE(DBID_)
ALTER TABLE JBPM4_PARTICIPATION ADD CONSTRAINT FK_PART_TASK FOREIGN KEY(TASK_) REFERENCES JBPM4_TASK(DBID_)
ALTER TABLE JBPM4_COMMENT ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_DEPLOYMENT ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_DEPLOYPROP ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_EXECUTION ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_HIST_ACTINST ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_ID_GROUP ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_ID_MEMBERSHIP ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_ID_USER ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_JOB ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_LOB ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_PARTICIPATION ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_SWIMLANE ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_TASK ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_VARIABLE ALTER COLUMN DBID_ RESTART WITH 1
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
