CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE JBPM4_COMMENT(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,USERID_ VARCHAR(255),TIME_ TIMESTAMP,MESSAGE_ VARCHAR(255),PARENT_ BIGINT,PARENT_IDX_ INTEGER,TASK_ BIGINT,TASK_IDX_ INTEGER)
CREATE MEMORY TABLE JBPM4_DEPLOYMENT(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME_ LONGVARCHAR,TIMESTAMP_ BIGINT,STATE_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_DEPLOYPROP(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DEPLOYMENT_ BIGINT,OBJNAME_ VARCHAR(255),KEY_ VARCHAR(255),STRINGVAL_ VARCHAR(255),LONGVAL_ BIGINT,CONSTRAINT FK_DEPLPROP_DEPL FOREIGN KEY(DEPLOYMENT_) REFERENCES JBPM4_DEPLOYMENT(DBID_))
CREATE MEMORY TABLE JBPM4_EXECUTION(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,ACTIVITYNAME_ VARCHAR(255),PROCDEFID_ VARCHAR(255),HASVARS_ BOOLEAN,NAME_ VARCHAR(255),KEY_ VARCHAR(255),ID_ VARCHAR(255),STATE_ VARCHAR(255),SUSPHISTSTATE_ VARCHAR(255),PRIORITY_ INTEGER,HISACTINST_ BIGINT,PARENT_ BIGINT,INSTANCE_ BIGINT,SUPEREXEC_ BIGINT,SUBPROCINST_ BIGINT,PARENT_IDX_ INTEGER,CONSTRAINT SYS_CT_52 UNIQUE(ID_),CONSTRAINT FK_EXEC_PARENT FOREIGN KEY(PARENT_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_EXEC_SUBPI FOREIGN KEY(SUBPROCINST_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_EXEC_INSTANCE FOREIGN KEY(INSTANCE_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_EXEC_SUPEREXEC FOREIGN KEY(SUPEREXEC_) REFERENCES JBPM4_EXECUTION(DBID_))
CREATE MEMORY TABLE JBPM4_HIST_ACTINST(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,HPI_ VARCHAR(255),TYPE_ VARCHAR(255),EXECUTION_ VARCHAR(255),ACTIVITY_NAME_ VARCHAR(255),START_ TIMESTAMP,END_ TIMESTAMP,DURATION_ BIGINT,TRANSITION_ VARCHAR(255),ASSIGNEE_ VARCHAR(255),STATE_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_HIST_PROCINST(ID_ VARCHAR(255) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,PROCDEFID_ VARCHAR(255),KEY_ VARCHAR(255),START_ TIMESTAMP,END_ TIMESTAMP,DURATION_ BIGINT,STATE_ VARCHAR(255),ENDACTIVITY_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_ID_GROUP(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,ID_ VARCHAR(255),NAME_ VARCHAR(255),TYPE_ VARCHAR(255),PARENT_ BIGINT,CONSTRAINT FK_GROUP_PARENT FOREIGN KEY(PARENT_) REFERENCES JBPM4_ID_GROUP(DBID_))
CREATE MEMORY TABLE JBPM4_ID_MEMBERSHIP(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,USER_ BIGINT,GROUP_ BIGINT,NAME_ VARCHAR(255),CONSTRAINT FK_MEM_GROUP FOREIGN KEY(GROUP_) REFERENCES JBPM4_ID_GROUP(DBID_))
CREATE MEMORY TABLE JBPM4_ID_USER(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,ID_ VARCHAR(255),PASSWORD_ VARCHAR(255),GIVENNAME_ VARCHAR(255),FAMILYNAME_ VARCHAR(255),BUSINESSEMAIL_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_JOB(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,DUEDATE_ TIMESTAMP,STATE_ VARCHAR(255),ISEXCLUSIVE_ BOOLEAN,LOCKOWNER_ VARCHAR(255),LOCKEXPTIME_ TIMESTAMP,EXCEPTION_ LONGVARCHAR,RETRIES_ INTEGER,PROCESSINSTANCE_ BIGINT,EXECUTION_ BIGINT,CFG_ BIGINT,SIGNAL_ VARCHAR(255),EVENT_ VARCHAR(255),REPEAT_ VARCHAR(255))
CREATE MEMORY TABLE JBPM4_LOB(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,BLOB_VALUE_ LONGVARBINARY,BINARY_VALUE_ VARBINARY(255),CLOB_VALUE_ LONGVARCHAR,TEXT_VALUE_ LONGVARCHAR,DEPLOYMENT_ BIGINT,NAME_ LONGVARCHAR,CONSTRAINT FK_LOB_DEPLOYMENT FOREIGN KEY(DEPLOYMENT_) REFERENCES JBPM4_DEPLOYMENT(DBID_))
CREATE MEMORY TABLE JBPM4_PARTICIPATION(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,GROUPID_ VARCHAR(255),USERID_ VARCHAR(255),TYPE_ VARCHAR(255),TASK_ BIGINT,SWIMLANE_ BIGINT)
CREATE MEMORY TABLE JBPM4_SWIMLANE(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DBVERSION_ INTEGER NOT NULL,NAME_ VARCHAR(255),ASSIGNEE_ VARCHAR(255),EXECUTION_ BIGINT,CONSTRAINT FK_SWIMLANE_EXEC FOREIGN KEY(EXECUTION_) REFERENCES JBPM4_EXECUTION(DBID_))
CREATE MEMORY TABLE JBPM4_TASK(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ CHAR(1) NOT NULL,DBVERSION_ INTEGER NOT NULL,NAME_ VARCHAR(255),DESCR_ VARCHAR(255),STATE_ VARCHAR(255),SUSPHISTSTATE_ VARCHAR(255),ASSIGNEE_ VARCHAR(255),FORM_ VARCHAR(255),PRIORITY_ INTEGER,CREATE_ TIMESTAMP,DUEDATE_ TIMESTAMP,PROGRESS_ INTEGER,SIGNALLING_ BOOLEAN,HASVARS_ BOOLEAN,SUPERTASK_ BIGINT,EXECUTION_ BIGINT,PROCINST_ BIGINT,SWIMLANE_ BIGINT,TASKDEFNAME_ VARCHAR(255),CONSTRAINT FK_TASK_SWIML FOREIGN KEY(SWIMLANE_) REFERENCES JBPM4_SWIMLANE(DBID_),CONSTRAINT FK_TASK_SUPERTASK FOREIGN KEY(SUPERTASK_) REFERENCES JBPM4_TASK(DBID_))
CREATE MEMORY TABLE JBPM4_VARIABLE(DBID_ BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CLASS_ VARCHAR(255) NOT NULL,DBVERSION_ INTEGER NOT NULL,KEY_ VARCHAR(255),QUERYTEXT_ VARCHAR(255),CONVERTER_ VARCHAR(255),PROCINST_ BIGINT,DATE_VALUE_ TIMESTAMP,DOUBLE_VALUE_ DOUBLE,LONG_VALUE_ BIGINT,STRING_VALUE_ VARCHAR(255),LOB_ BIGINT,EXECUTION_ BIGINT,EXESYS_ BIGINT,TASK_ BIGINT,CONSTRAINT FK_VAR_PROCINST FOREIGN KEY(PROCINST_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_VAR_LOB FOREIGN KEY(LOB_) REFERENCES JBPM4_LOB(DBID_),CONSTRAINT FK_VAR_EXECUTION FOREIGN KEY(EXECUTION_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_VAR_EXESYS FOREIGN KEY(EXESYS_) REFERENCES JBPM4_EXECUTION(DBID_),CONSTRAINT FK_VAR_TASK FOREIGN KEY(TASK_) REFERENCES JBPM4_TASK(DBID_))
ALTER TABLE JBPM4_COMMENT ADD CONSTRAINT FKFD23139F86A745AD FOREIGN KEY(TASK_) REFERENCES JBPM4_TASK(DBID_)
ALTER TABLE JBPM4_HIST_ACTINST ADD CONSTRAINT FK_HAI_HPI FOREIGN KEY(HPI_) REFERENCES JBPM4_HIST_PROCINST(ID_)
ALTER TABLE JBPM4_ID_MEMBERSHIP ADD CONSTRAINT FK_MEM_USER FOREIGN KEY(USER_) REFERENCES JBPM4_ID_USER(DBID_)
ALTER TABLE JBPM4_JOB ADD CONSTRAINT FK_JOB_CFG FOREIGN KEY(CFG_) REFERENCES JBPM4_LOB(DBID_)
ALTER TABLE JBPM4_PARTICIPATION ADD CONSTRAINT FK_PART_SWIMLANE FOREIGN KEY(SWIMLANE_) REFERENCES JBPM4_SWIMLANE(DBID_)
ALTER TABLE JBPM4_PARTICIPATION ADD CONSTRAINT FK_PART_TASK FOREIGN KEY(TASK_) REFERENCES JBPM4_TASK(DBID_)
ALTER TABLE JBPM4_COMMENT ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_DEPLOYMENT ALTER COLUMN DBID_ RESTART WITH 3
ALTER TABLE JBPM4_DEPLOYPROP ALTER COLUMN DBID_ RESTART WITH 7
ALTER TABLE JBPM4_EXECUTION ALTER COLUMN DBID_ RESTART WITH 4
ALTER TABLE JBPM4_HIST_ACTINST ALTER COLUMN DBID_ RESTART WITH 5
ALTER TABLE JBPM4_ID_GROUP ALTER COLUMN DBID_ RESTART WITH 7
ALTER TABLE JBPM4_ID_MEMBERSHIP ALTER COLUMN DBID_ RESTART WITH 2
ALTER TABLE JBPM4_ID_USER ALTER COLUMN DBID_ RESTART WITH 2
ALTER TABLE JBPM4_JOB ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_LOB ALTER COLUMN DBID_ RESTART WITH 3
ALTER TABLE JBPM4_PARTICIPATION ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_SWIMLANE ALTER COLUMN DBID_ RESTART WITH 1
ALTER TABLE JBPM4_TASK ALTER COLUMN DBID_ RESTART WITH 3
ALTER TABLE JBPM4_VARIABLE ALTER COLUMN DBID_ RESTART WITH 3
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
SET SCHEMA PUBLIC
INSERT INTO JBPM4_DEPLOYMENT VALUES(1,NULL,0,'active')
INSERT INTO JBPM4_DEPLOYMENT VALUES(2,NULL,0,'active')
INSERT INTO JBPM4_DEPLOYPROP VALUES(1,1,'StartEnd','pdid','StartEnd-1',NULL)
INSERT INTO JBPM4_DEPLOYPROP VALUES(2,1,'StartEnd','pdkey','StartEnd',NULL)
INSERT INTO JBPM4_DEPLOYPROP VALUES(3,1,'StartEnd','pdversion',NULL,1)
INSERT INTO JBPM4_DEPLOYPROP VALUES(4,2,'LeaseApprove','pdid','LeaseApprove-1',NULL)
INSERT INTO JBPM4_DEPLOYPROP VALUES(5,2,'LeaseApprove','pdkey','LeaseApprove',NULL)
INSERT INTO JBPM4_DEPLOYPROP VALUES(6,2,'LeaseApprove','pdversion',NULL,1)
INSERT INTO JBPM4_EXECUTION VALUES(2,'jpdl',1,'hr','LeaseApprove-1',TRUE,NULL,NULL,'LeaseApprove.2','active-root',NULL,0,2,NULL,2,NULL,NULL,NULL)
INSERT INTO JBPM4_EXECUTION VALUES(3,'jpdl',1,'manager','LeaseApprove-1',TRUE,NULL,NULL,'LeaseApprove.3','active-root',NULL,0,4,NULL,3,NULL,NULL,NULL)
INSERT INTO JBPM4_HIST_ACTINST VALUES(1,'EXCL',0,'LeaseApprove.2','decision','LeaseApprove.2','input','2009-06-06 20:41:34.312000000','2009-06-06 20:41:34.343000000',31,'jump',NULL,NULL)
INSERT INTO JBPM4_HIST_ACTINST VALUES(2,'TASK',0,'LeaseApprove.2','task','LeaseApprove.2','hr','2009-06-06 20:41:34.421000000',NULL,0,NULL,'hr',NULL)
INSERT INTO JBPM4_HIST_ACTINST VALUES(3,'EXCL',0,'LeaseApprove.3','decision','LeaseApprove.3','input','2009-06-20 11:34:48.187000000','2009-06-20 11:34:48.234000000',47,'normal',NULL,NULL)
INSERT INTO JBPM4_HIST_ACTINST VALUES(4,'TASK',0,'LeaseApprove.3','task','LeaseApprove.3','manager','2009-06-20 11:34:48.250000000',NULL,0,NULL,'manager',NULL)
INSERT INTO JBPM4_HIST_PROCINST VALUES('LeaseApprove.2',0,'LeaseApprove-1',NULL,'2009-06-06 20:41:34.312000000',NULL,0,'active',NULL)
INSERT INTO JBPM4_HIST_PROCINST VALUES('LeaseApprove.3',0,'LeaseApprove-1',NULL,'2009-06-20 11:34:48.156000000',NULL,0,'active',NULL)
INSERT INTO JBPM4_ID_GROUP VALUES(1,0,'3.3','3','3',NULL)
INSERT INTO JBPM4_ID_GROUP VALUES(3,0,'4.4','4','4',NULL)
INSERT INTO JBPM4_ID_GROUP VALUES(4,0,'43.43','43','43',NULL)
INSERT INTO JBPM4_ID_GROUP VALUES(5,0,'432.432','432','432',NULL)
INSERT INTO JBPM4_ID_GROUP VALUES(6,0,'4324.4321','4321','4324',NULL)
INSERT INTO JBPM4_ID_USER VALUES(1,0,'1',NULL,'1','1','1')
INSERT INTO JBPM4_LOB VALUES(1,0,'3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d225554462d38223f3e0d0a0d0a3c70726f63657373206e616d653d225374617274456e642220786d6c6e733d22687474703a2f2f6a62706d2e6f72672f342e302f6a70646c223e0d0a0d0a20203c737461727420673d223232352c31362c38302c3430223e0d0a202020203c7472616e736974696f6e20746f3d226e6f6465222f3e0d0a20203c2f73746172743e0d0a0d0a20203c7461736b2061737369676e65653d2268722220673d223238372c3138342c38302c343022206e616d653d226e6f6465223e0d0a202020203c7472616e736974696f6e20746f3d22656e64222f3e0d0a20203c2f7461736b3e0d0a0d0a20203c656e6420673d223135382c3336322c38302c343022206e616d653d22656e64222f3e0d0a0d0a3c2f70726f636573733e',NULL,NULL,NULL,1,'process.jpdl.xml')
INSERT INTO JBPM4_LOB VALUES(2,0,'3c3f786d6c2076657273696f6e3d22312e302220656e636f64696e673d225554462d38223f3e0d0a0d0a3c70726f63657373206e616d653d224c65617365417070726f76652220786d6c6e733d22687474703a2f2f6a62706d2e6f72672f342e302f6a70646c223e0d0a0d0a20203c737461727420673d223232352c31362c38302c3430223e0d0a202020203c7472616e736974696f6e206e616d653d222220746f3d22696e707574222f3e0d0a20203c2f73746172743e0d0a0d0a20203c6465636973696f6e20673d223232392c38342c38302c343022206e616d653d22696e707574223e0d0a202020203c7472616e736974696f6e20673d222d32382c2d313822206e616d653d226a756d702220746f3d226872223e0d0a2020202020203c636f6e646974696f6e20657870723d22237b646179266c743b3d337d222f3e0d0a202020203c2f7472616e736974696f6e3e0d0a202020203c7472616e736974696f6e20673d222d33372c2d313822206e616d653d226e6f726d616c2220746f3d226d616e61676572222f3e0d0a20203c2f6465636973696f6e3e0d0a0d0a20203c7461736b2061737369676e65653d226d616e616765722220673d223133372c3137312c38302c343022206e616d653d226d616e61676572223e0d0a202020203c7472616e736974696f6e206e616d653d22706173732220746f3d226872222f3e0d0a202020203c7472616e736974696f6e206e616d653d2272656a6563742220746f3d2272656a656374222f3e0d0a20203c2f7461736b3e0d0a0d0a20203c7461736b2061737369676e65653d2268722220673d223238372c3138342c38302c343022206e616d653d226872223e0d0a202020203c7472616e736974696f6e206e616d653d22706173732220746f3d2270617373222f3e0d0a202020203c7472616e736974696f6e206e616d653d2272656a6563742220746f3d2272656a656374222f3e0d0a20203c2f7461736b3e0d0a0d0a20203c656e6420673d223239352c3336312c38302c343022206e616d653d2270617373222f3e0d0a0d0a20203c656e6420673d223135382c3336322c38302c343022206e616d653d2272656a656374222f3e0d0a0d0a3c2f70726f636573733e',NULL,NULL,NULL,2,'process.jpdl.xml')
INSERT INTO JBPM4_TASK VALUES(1,'T',1,'hr',NULL,'open',NULL,'hr',NULL,0,'2009-06-06 20:41:34.421000000',NULL,NULL,TRUE,FALSE,NULL,2,2,NULL,'hr')
INSERT INTO JBPM4_TASK VALUES(2,'T',1,'manager',NULL,'open',NULL,'manager',NULL,0,'2009-06-20 11:34:48.250000000',NULL,NULL,TRUE,FALSE,NULL,3,3,NULL,'manager')
INSERT INTO JBPM4_VARIABLE VALUES(1,'S',0,'day','1',NULL,2,NULL,NULL,NULL,'1',NULL,2,NULL,NULL)
INSERT INTO JBPM4_VARIABLE VALUES(2,'S',0,'day','9',NULL,3,NULL,NULL,NULL,'9',NULL,3,NULL,NULL)
